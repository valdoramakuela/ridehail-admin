{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.js"],"sourcesContent":["  \r\nimport { NextResponse } from 'next/server';\r\nimport jwt from 'jsonwebtoken';\r\n\r\nexport function middleware(request) {\r\n  const token = request.cookies.get('adminToken')?.value;\r\n  const url = request.url;\r\n\r\n  if (url.includes('/login')) {\r\n    if (token) return NextResponse.redirect(new URL('/', request.url));\r\n    return NextResponse.next();\r\n  }\r\n\r\n  if (!token) {\r\n    return NextResponse.redirect(new URL('/login', request.url));\r\n  }\r\n\r\n  try {\r\n    jwt.verify(token, process.env.NEXT_PUBLIC_JWT_SECRET);\r\n    return NextResponse.next();\r\n  } catch (err) {\r\n    return NextResponse.redirect(new URL('/login', request.url));\r\n  }\r\n}\r\n\r\nexport const config = {\r\n  matcher: ['/((?!api|_next/static|_next/image|favicon.ico).*)'],\r\n};"],"names":[],"mappings":";;;;;;AACA;AAAA;;;;;;;;AAGO,SAAS,WAAW,OAAO;IAChC,MAAM,QAAQ,QAAQ,OAAO,CAAC,GAAG,CAAC,eAAe;IACjD,MAAM,MAAM,QAAQ,GAAG;IAEvB,IAAI,IAAI,QAAQ,CAAC,WAAW;QAC1B,IAAI,OAAO,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,KAAK,QAAQ,GAAG;QAChE,OAAO,gMAAY,CAAC,IAAI;IAC1B;IAEA,IAAI,CAAC,OAAO;QACV,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;IAEA,IAAI;QACF,IAAI,MAAM,CAAC;QACX,OAAO,gMAAY,CAAC,IAAI;IAC1B,EAAE,OAAO,KAAK;QACZ,OAAO,gMAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,UAAU,QAAQ,GAAG;IAC5D;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;KAAoD;AAChE"}}]
}